{{!-- User Input Form --}}
<div class="row">
   <div class = "container">
    <div class="row">
        {{!-- action="/solarData" method="GET" --}}
        <form action="/solarData" method="post">
            <div class="form-content">
                    <div class="form-row">
                      <div class="form-group col-md-3">
                        <label for="inputCity">City</label>
                        <input name='city' type="text" class="form-control" id="inputCity">
                      </div>
                      
                      <div class="form-group col-sm-3">
                        <label for="inputState">State</label>
                        <select id="inputState" class="form-control">
                          <option selected>Choose...</option>
                          <option name='state'>...</option>
                        </select>
                      </div>
                     </div>
                    <div class="form-group col-sm-3">
                        <label for="losses">losses</label>
                        <select id="losses" class="form-control">
                          <option selected>Choose...</option>
                          <option name='losses'>...</option>
                        </select>
                      </div>
                       <div class="form-group col-sm-3">
                        <label for="azimuth">azimuth</label>
                        <select id="azimuth" class="form-control">
                          <option selected>Choose...</option>
                          <option name='azimuth'>...</option>
                        </select>
                      </div>
                      <div class="form-group col-sm-3">
                        <label for="array_type">array_type</label>
                        <select id="array_type" class="form-control">
                          <option selected>Choose...</option>
                          <option name='array_type'>...</option>
                        </select>
                      
                       <div class="form-group col-sm-3">
                        <label for="module_type">module_type</label>
                        <select id="module_type" class="form-control">
                          <option selected>Choose...</option>
                          <option name='module_type'>...</option>
                        </select>
                        </div>
                      </div>
                      <div class="form-group col-sm-3">
                        <label for="system_capacity">system_capacity</label>
                        <select id="system_capacity" class="form-control">
                          <option selected>Choose...</option>
                          <option name='system_capacity'>...</option>
                        </select>
                     
                       <div class="form-group col-sm-3">
                        <label for="tilt">tilt</label>
                        <select id="tilt" class="form-control">
                          <option selected>Choose...</option>
                          <option name='tilt'>...</option>
                        </select>
                      </div>
                    </div>

                <button name="calcSolar" class="right">Calculate</button>
            </div>    
        </form>
    </div>
</div>
{{!-- Results table/charts --}}
<div class="solarData">

    {{#each sunData }}
          {{sunData}}         
    {{/each}}
</div>
{{!-- //testChart// --}}
<div class="row">
    <div class="col m7">
        <canvas id="myChart" width="700" height="400"></canvas> 
    </div>
    <span class="col m4">
        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Tempor nec feugiat nisl pretium fusce id velit ut. Vestibulum lectus mauris ultrices eros in.
        </p>
    </span>
</div>
<div class="row">
    <div class="col m7">
        <canvas id="costSavings" width="700" height="400"></canvas> 
    </div>
     <span class="col m4">
        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Malesuada nunc vel risus commodo viverra maecenas accumsan lacus vel. Eget dolor morbi non arcu risus quis varius quam quisque.
        </p>
    </span>
</div>
{{!-- ////testChart --}}
<script >
    $(document).ready(function(){

Handlebars.registerHelper('list', function(items, options) {
  var out = "<ul>";

  for(var i=0, l=items.length; i<l; i++) {
    out = out + "<li>" + options.fn(items[i]) + "</li>";
  }

  return out + "</ul>";
});

    var sunData = $("#sunData");
    console.log(sunData);    
    var sunChart = $("#myChart");
    var myChart = new Chart(sunChart, {
        type: 'line-chart',
        data: {
            labels: ["Jan", "Feb", "April", "March", "May", "June","Jul", "Aug", "Sept", "Oct", "Nov", "Dec"],
            datasets: [{
                label: 'Kwh AC Output',
                data: [sunData],
                borderColor:rgba(255, 99, 132, 0.2),
                borderWidth: 1
            }]
        },
        options: {
            title: {
                display: true
            },
                yAxes: [{
                    scaleLabel: {
                        display: true,
                        labelString: 'Kwh'
                    },
                    ticks: {
                        beginAtZero:true
                    }
                }]
            }
        }
    });    
    })
    var costChart = $("#costSavings");
    var myChart = new Chart(costChart, {
        type: 'bar',
        data: {
            labels: ["Jan", "Feb", "April", "March", "May", "June","Jul", "Aug", "Sept", "Oct", "Nov", "Dec"],
            datasets: [{
                label: 'Total Cost Savings',
                data: [costData],
                backgroundColor: [
                    'rgba(255, 99, 132, 0.2)'
                ],
                borderColor: [
                    'rgba(255,99,132,1)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero:true
                    }
                }]
            }
        }
    });    
    })

</script>
    